{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport { withGoogleMap, GoogleMap, Marker, InfoWindow } from 'react-google-maps';\nimport homeIcon from '@iso/assets/images/icon/icon_home.svg';\nconst defaultZoom = 13;\nconst defaultCenter = {\n  lat: 42.3454769,\n  lng: -71.1078781\n};\n\nclass MarkerList extends Component {\n  render() {\n    return __jsx(React.Fragment, null, this.props.locations && this.props.locations.map((location, index) => __jsx(MarkerWithInfoWindow, {\n      key: index.toString(),\n      location: location\n    })));\n  }\n\n}\n\nclass MarkerWithInfoWindow extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpen: false\n    };\n    this.toggle = this.toggle.bind(this);\n  }\n\n  toggle() {\n    this.setState({\n      isOpen: !this.state.isOpen\n    });\n  }\n\n  render() {\n    const {\n      location\n    } = this.props;\n    return __jsx(Marker, {\n      icon: {\n        url: homeIcon,\n        fillColor: '#0071AA',\n        anchor: new window.google.maps.Point(13, 42),\n        scaledSize: new window.google.maps.Size(40, 40)\n      },\n      onClick: this.toggle,\n      position: location,\n      title: location.name,\n      label: location.name\n    }, this.state.isOpen && __jsx(InfoWindow, {\n      onCloseClick: this.toggle\n    }, __jsx(\"a\", {\n      href: location.www,\n      target: \"_blank\"\n    }, location.title)));\n  }\n\n}\n\nconst GoogleMapsComponent = withGoogleMap(props => {\n  return __jsx(GoogleMap, {\n    defaultZoom: defaultZoom,\n    defaultCenter: defaultCenter\n  }, __jsx(MarkerList, {\n    locations: props.locations && props.locations\n  }));\n});\n\nclass AccommodationsMap extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      locations: []\n    };\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps, nextContext) {\n    if (nextProps.properties !== this.props.properties) {\n      let array = [];\n      nextProps.properties.map(item => {\n        array.push({\n          lat: item.lat,\n          lng: item.lng,\n          label: item.slug,\n          draggable: false,\n          title: item.name,\n          www: `/property/${item.slug}`\n        });\n      });\n      this.setState({\n        locations: array\n      });\n    }\n  }\n\n  render() {\n    return __jsx(\"div\", {\n      className: \"animated fadeIn\"\n    }, this.state.locations && this.state.locations.length > 0 && __jsx(GoogleMapsComponent, {\n      key: \"locations-map\",\n      locations: this.state.locations,\n      loadingElement: __jsx(\"div\", {\n        style: {\n          height: `100%`\n        }\n      }),\n      containerElement: __jsx(\"div\", {\n        style: {\n          height: `500px`\n        }\n      }),\n      mapElement: __jsx(\"div\", {\n        style: {\n          height: `100%`\n        }\n      })\n    }));\n  }\n\n}\n\nexport default AccommodationsMap;","map":null,"metadata":{},"sourceType":"module"}