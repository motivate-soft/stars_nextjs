{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useEffect } from 'react';\nimport Router from \"next/router\";\nimport ReactGA from \"react-ga\";\nimport { GA_ID } from \"../../env-config\";\n\nvar logPageView = function logPageView() {\n  console.log(\"react-ga pageview for \".concat(window.location.pathname));\n  ReactGA.set({\n    page: window.location.pathname\n  });\n  ReactGA.pageview(window.location.pathname);\n};\n\nexport default (function (WrappedComponent) {\n  return function (props) {\n    useEffect(function () {\n      console.log(\"initGA\", GA_ID);\n      ReactGA.initialize(GA_ID); // `routeChangeComplete` won't run for the first page load unless the query string is\n      // hydrated later on, so here we log a page view if this is the first render and\n      // there's no query string\n\n      if (!Router.asPath.includes('?')) {\n        logPageView();\n      } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n    }, []);\n    useEffect(function () {\n      // Listen for page changes after a navigation or when the query changes\n      Router.events.on('routeChangeComplete', logPageView);\n      return function () {\n        Router.events.off('routeChangeComplete', logPageView);\n      };\n    }, [Router.events]);\n    return __jsx(WrappedComponent, props);\n  };\n});","map":null,"metadata":{},"sourceType":"module"}