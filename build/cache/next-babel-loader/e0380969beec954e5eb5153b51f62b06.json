{"ast":null,"code":"import _CloseOutlined from \"@ant-design/icons/lib/icons/CloseOutlined\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"E:\\\\Projects\\\\starsofboston\\\\next-django\\\\isomorphic-next\\\\components\\\\Admin\\\\Property\\\\Location\\\\LocationSearchAutoComplete.js\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from \"react\";\nimport PlacesAutocomplete from \"react-places-autocomplete\";\nimport Input from \"@iso/components/uielements/input\";\nimport { FaMapPin } from \"react-icons/fa\";\n\nvar LocationSearchAutoComplete = /*#__PURE__*/function (_React$Component) {\n  _inherits(LocationSearchAutoComplete, _React$Component);\n\n  var _super = _createSuper(LocationSearchAutoComplete);\n\n  function LocationSearchAutoComplete(props) {\n    var _this;\n\n    _classCallCheck(this, LocationSearchAutoComplete);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChange\", function (address) {\n      _this.setState({\n        address: address\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSelect\", function (address, placeId) {\n      _this.setState({\n        address: address\n      });\n\n      var request = {\n        placeId: placeId,\n        fields: [\"name\", \"geometry\", \"address_components\", \"formatted_address\", \"icon\", \"id\", \"name\", \"place_id\", \"reference\", \"scope\", \"types\", \"url\", \"utc_offset\", \"vicinity\"]\n      };\n\n      _this.placesService.getDetails(request, function (place, status) {\n        if (status === window.google.maps.places.PlacesServiceStatus.OK) {\n          _this.props.onPlaceChanged(place);\n\n          console.log(\"placesService\", place.geometry.location.lat(), place.geometry.location.lng());\n        }\n      });\n    });\n\n    _this.state = {\n      address: \"\"\n    }; // if (typeof window !== 'undefined'){\n    //\n    // }\n\n    if (true) {\n      _this.placesService = new window.google.maps.places.PlacesService(document.createElement(\"div\"));\n    }\n\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    _this.handleSelect = _this.handleSelect.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(LocationSearchAutoComplete, [{\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps, nextContext) {\n      this.setState({\n        address: nextProps.address\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          placeholder = _this$props.placeholder,\n          name = _this$props.name;\n      return __jsx(PlacesAutocomplete, {\n        value: this.state.address,\n        onChange: this.handleChange,\n        onSelect: this.handleSelect,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }\n      }, function (_ref) {\n        var getInputProps = _ref.getInputProps,\n            suggestions = _ref.suggestions,\n            getSuggestionItemProps = _ref.getSuggestionItemProps,\n            loading = _ref.loading;\n        return __jsx(\"div\", {\n          className: \"autocomplete-container\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 21\n          }\n        }, __jsx(\"div\", {\n          className: \"place-input-wrapper\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }\n        }, __jsx(Input, _extends({}, getInputProps({\n          // name: name ? name : \"address\",\n          placeholder: placeholder ? placeholder : \"Search for address...\"\n        }), {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 29\n          }\n        })), __jsx(_CloseOutlined, {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 29\n          }\n        })), __jsx(\"div\", {\n          className: \"autocomplete-dropdown-container\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }\n        }, loading && __jsx(\"div\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 41\n          }\n        }, \"Loading...\"), suggestions.map(function (suggestion, index) {\n          var className = suggestion.active ? \"suggestion-item active\" : \"suggestion-item\";\n          return __jsx(\"div\", _extends({\n            key: index\n          }, getSuggestionItemProps(suggestion, {\n            className: className\n          }), {\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 37\n            }\n          }), __jsx(FaMapPin, {\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 41\n            }\n          }), __jsx(\"span\", {\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 41\n            }\n          }, suggestion.description));\n        })));\n      });\n    }\n  }]);\n\n  return LocationSearchAutoComplete;\n}(React.Component);\n\nexport default LocationSearchAutoComplete;","map":{"version":3,"sources":["E:/Projects/starsofboston/next-django/isomorphic-next/components/Admin/Property/Location/LocationSearchAutoComplete.js"],"names":["React","PlacesAutocomplete","Input","FaMapPin","LocationSearchAutoComplete","props","address","setState","placeId","request","fields","placesService","getDetails","place","status","window","google","maps","places","PlacesServiceStatus","OK","onPlaceChanged","console","log","geometry","location","lat","lng","state","PlacesService","document","createElement","handleChange","bind","handleSelect","nextProps","nextContext","placeholder","name","getInputProps","suggestions","getSuggestionItemProps","loading","map","suggestion","index","className","active","description","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport PlacesAutocomplete from \"react-places-autocomplete\";\r\nimport {CloseOutlined} from \"@ant-design/icons\";\r\nimport Input from \"@iso/components/uielements/input\";\r\nimport {FaMapPin} from \"react-icons/fa\";\r\n\r\nclass LocationSearchAutoComplete extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {address: \"\"};\r\n        // if (typeof window !== 'undefined'){\r\n        //\r\n        // }\r\n        if (process.browser) {\r\n            this.placesService = new window.google.maps.places.PlacesService(\r\n                document.createElement(\"div\")\r\n            );\r\n        }\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSelect = this.handleSelect.bind(this);\r\n    }\r\n\r\n    UNSAFE_componentWillReceiveProps(nextProps, nextContext) {\r\n        this.setState({address: nextProps.address});\r\n    }\r\n\r\n    handleChange = (address) => {\r\n        this.setState({address});\r\n    };\r\n\r\n    handleSelect = (address, placeId) => {\r\n        this.setState({address});\r\n\r\n        const request = {\r\n            placeId: placeId,\r\n            fields: [\r\n                \"name\",\r\n                \"geometry\",\r\n                \"address_components\",\r\n                \"formatted_address\",\r\n                \"icon\",\r\n                \"id\",\r\n                \"name\",\r\n                \"place_id\",\r\n                \"reference\",\r\n                \"scope\",\r\n                \"types\",\r\n                \"url\",\r\n                \"utc_offset\",\r\n                \"vicinity\",\r\n            ],\r\n        };\r\n\r\n        this.placesService.getDetails(request, (place, status) => {\r\n            if (status === window.google.maps.places.PlacesServiceStatus.OK) {\r\n                this.props.onPlaceChanged(place);\r\n                console.log(\"placesService\", place.geometry.location.lat(), place.geometry.location.lng());\r\n            }\r\n        });\r\n    };\r\n\r\n    render() {\r\n        const {placeholder, name} = this.props\r\n        return (\r\n            <PlacesAutocomplete\r\n                value={this.state.address}\r\n                onChange={this.handleChange}\r\n                onSelect={this.handleSelect}\r\n            >\r\n                {({getInputProps, suggestions, getSuggestionItemProps, loading}) => (\r\n                    <div className=\"autocomplete-container\">\r\n                        <div className=\"place-input-wrapper\">\r\n                            <Input\r\n                                {...getInputProps({\r\n                                    // name: name ? name : \"address\",\r\n                                    placeholder: placeholder ? placeholder : \"Search for address...\",\r\n                                })}\r\n                            />\r\n                            <CloseOutlined/>\r\n                        </div>\r\n                        <div className=\"autocomplete-dropdown-container\">\r\n                            {loading && <div>Loading...</div>}\r\n                            {suggestions.map((suggestion, index) => {\r\n                                const className = suggestion.active\r\n                                    ? \"suggestion-item active\"\r\n                                    : \"suggestion-item\";\r\n\r\n                                return (\r\n                                    <div\r\n                                        key={index}\r\n                                        {...getSuggestionItemProps(suggestion, {\r\n                                            className,\r\n                                        })}\r\n                                    >\r\n                                        <FaMapPin/>\r\n                                        <span>{suggestion.description}</span>\r\n                                    </div>\r\n                                );\r\n                            })}\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </PlacesAutocomplete>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LocationSearchAutoComplete;\r\n"]},"metadata":{},"sourceType":"module"}