{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nvar __jsx = React.createElement;\nimport React from 'react';\nvar PendingPool = {};\nvar ReadyPool = {};\nexport default function ImageCell(_ref) {\n  var src = _ref.src;\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      srcState = _React$useState2[0],\n      setSrcState = _React$useState2[1];\n\n  var onLoadImage = React.useCallback(function (source) {\n    ReadyPool[src] = true;\n\n    if (source === src) {\n      setSrcState(source);\n    }\n  }, [src]);\n  var loadImage = React.useCallback(function (src) {\n    if (ReadyPool[src]) {\n      setSrcState(src);\n      return;\n    }\n\n    if (PendingPool[src]) {\n      PendingPool[src].push(onLoadImage);\n      return;\n    }\n\n    PendingPool[src] = [onLoadImage];\n    var img = new Image();\n\n    img.onload = function () {\n      PendingPool[src].forEach(function (callback) {\n        callback(src);\n      });\n      delete PendingPool[src];\n      img.onload = null;\n      src = undefined;\n    };\n\n    img.src = srcState;\n  }, [srcState, onLoadImage]);\n  React.useEffect(function () {\n    loadImage(src);\n  }, [loadImage, src]);\n  var style = src ? {\n    backgroundImage: \"url(\".concat(src, \")\"),\n    width: '70px',\n    height: '70px',\n    backgroundSize: 'cover'\n  } : undefined;\n  return __jsx(\"div\", {\n    className: \"exampleImage\",\n    style: style\n  });\n}","map":null,"metadata":{},"sourceType":"module"}