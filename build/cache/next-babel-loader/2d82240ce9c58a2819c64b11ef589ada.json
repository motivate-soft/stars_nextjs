{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _Row from \"antd/lib/row\";\nimport _Col from \"antd/lib/col\";\nimport _Form from \"antd/lib/form\";\nimport _Switch from \"antd/lib/switch\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"E:\\\\Projects\\\\starsofboston\\\\next-django\\\\isomorphic-next\\\\components\\\\Admin\\\\Property\\\\Amenity\\\\Amenity.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport { BACKEND_URL } from \"env-config\";\nimport { getCookie } from \"@redux/authentication/auth.utils\";\nimport { indexOf } from \"lodash\";\nvar formItemLayout = {\n  labelCol: {\n    span: 24\n  },\n  wrapperCol: {\n    span: 24\n  }\n};\nvar requiredRule = {\n  required: true,\n  message: \"Please fill this field\"\n};\nexport default function Amenity(props) {\n  _s();\n\n  var _this = this;\n\n  var _useState = useState(null),\n      options = _useState[0],\n      setOptions = _useState[1];\n\n  var amenities = props.amenities,\n      onToggleOption = props.onToggleOption;\n  useEffect(function () {\n    getAmenityData();\n  }, []);\n\n  function getAmenityData() {\n    return _getAmenityData.apply(this, arguments);\n  }\n\n  function _getAmenityData() {\n    _getAmenityData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return fetch(\"\".concat(BACKEND_URL, \"/api/accommodation/amenity/\"), {\n                method: \"GET\",\n                headers: {\n                  Accept: \"application/json\",\n                  \"Content-Type\": \"application/json\",\n                  authorization: \"Bearer \".concat(getCookie(\"token\"))\n                }\n              }).then(function (res) {\n                return res.json();\n              }).then(function (res) {\n                return res;\n              })[\"catch\"](function (error) {\n                return error;\n              });\n\n            case 3:\n              res = _context.sent;\n              console.log(\"res\", res);\n              setOptions(res);\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](0);\n              setOptions([]);\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 8]]);\n    }));\n    return _getAmenityData.apply(this, arguments);\n  }\n\n  var onFinish = function onFinish(values) {\n    console.log(\"Received values of form: \", values);\n  };\n\n  return __jsx(\"div\", {\n    style: {\n      margin: \"0 20px\",\n      background: \"#fff\",\n      padding: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, __jsx(_Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, options && options.length > 0 && options.map(function (option, index) {\n    return __jsx(_Col, {\n      key: index,\n      lg: 12,\n      sm: 24,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }\n    }, __jsx(_Form.Item, {\n      label: option.name,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 15\n      }\n    }, __jsx(_Switch, {\n      checked: (amenities === null || amenities === void 0 ? void 0 : amenities.length) > 0 && amenities.indexOf(option.id) > -1,\n      onChange: function onChange() {\n        return onToggleOption(option.id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }\n    })));\n  })));\n}\n\n_s(Amenity, \"FaYRMdb3bb7c06UOm+rnyvgauSc=\");\n\n_c = Amenity;\n\nvar _c;\n\n$RefreshReg$(_c, \"Amenity\");","map":{"version":3,"sources":["E:/Projects/starsofboston/next-django/isomorphic-next/components/Admin/Property/Amenity/Amenity.js"],"names":["React","useState","useEffect","BACKEND_URL","getCookie","indexOf","formItemLayout","labelCol","span","wrapperCol","requiredRule","required","message","Amenity","props","options","setOptions","amenities","onToggleOption","getAmenityData","fetch","method","headers","Accept","authorization","then","res","json","error","console","log","onFinish","values","margin","background","padding","length","map","option","index","name","id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Form, Row, Col, Switch } from \"antd\";\r\nimport { BACKEND_URL } from \"env-config\";\r\nimport { getCookie } from \"@redux/authentication/auth.utils\";\r\nimport { indexOf } from \"lodash\";\r\n\r\nconst formItemLayout = {\r\n  labelCol: {\r\n    span: 24,\r\n  },\r\n  wrapperCol: {\r\n    span: 24,\r\n  },\r\n};\r\n\r\nconst requiredRule = {\r\n  required: true,\r\n  message: \"Please fill this field\",\r\n};\r\n\r\nexport default function Amenity(props) {\r\n  const [options, setOptions] = useState(null);\r\n  const { amenities, onToggleOption } = props;\r\n\r\n  useEffect(() => {\r\n    getAmenityData();\r\n  }, []);\r\n\r\n  async function getAmenityData() {\r\n    try {\r\n      const res = await fetch(`${BACKEND_URL}/api/accommodation/amenity/`, {\r\n        method: \"GET\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          authorization: `Bearer ${getCookie(\"token\")}`,\r\n        },\r\n      })\r\n        .then((res) => res.json())\r\n        .then((res) => res)\r\n        .catch((error) => error);\r\n      console.log(\"res\", res);\r\n      setOptions(res);\r\n    } catch (error) {\r\n      setOptions([]);\r\n    }\r\n  }\r\n\r\n  const onFinish = (values) => {\r\n    console.log(\"Received values of form: \", values);\r\n  };\r\n\r\n  return (\r\n    <div style={{ margin: \"0 20px\", background: \"#fff\", padding: 20 }}>\r\n      <Row>\r\n        {options &&\r\n          options.length > 0 &&\r\n          options.map((option, index) => (\r\n            <Col key={index} lg={12} sm={24}>\r\n              <Form.Item label={option.name}>\r\n                <Switch\r\n                  checked={\r\n                    amenities?.length > 0 && amenities.indexOf(option.id) > -1\r\n                  }\r\n                  onChange={() => onToggleOption(option.id)}\r\n                />\r\n              </Form.Item>\r\n            </Col>\r\n          ))}\r\n      </Row>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}